<!doctype html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CYNTDCYFRS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-CYNTDCYFRS");
    </script>
    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-N5KVMP33");
    </script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Furosion Halloween Update 2025</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Creepster&family=Poppins:wght@400;700&display=swap"
      rel="stylesheet" />
    <!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/67feed02f308dc1911a9415d/1iotsrlpg';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
    <style>
      :root {
        --orange: #ff6f3c;
        --black: #1b1b1b;
        --purple: #402e4c;
        --dark-purple: #2e2140;
        --text-light: #f4e9dc;
        --text-dark: #222;
        --bg-gradient: linear-gradient(180deg, var(--black) 0%, var(--purple) 100%);
      }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Poppins", sans-serif;
        background: var(--bg-gradient);
        color: var(--text-light);
        overflow-x: hidden;
        scroll-behavior: smooth;
      }
      header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: rgba(27, 27, 27, 0.9);
        backdrop-filter: blur(8px);
        padding: 1rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 1000;
      }
      header a.back-btn {
        color: var(--orange);
        font-weight: 700;
        text-decoration: none;
        font-size: 1.1rem;
        letter-spacing: 0.05em;
        transition: color 0.3s ease;
      }
      header a.back-btn:hover {
        color: #ff9b62;
      }
      header button.register-btn {
        background: var(--orange);
        border: none;
        padding: 0.5rem 1.3rem;
        border-radius: 25px;
        font-weight: 700;
        cursor: pointer;
        color: var(--black);
        font-size: 1rem;
        transition: background 0.3s ease;
      }
      header button.register-btn:hover {
        background: #ff915e;
      }

      main {
        padding: 6rem 2rem 3rem;
        max-width: 900px;
        margin: 0 auto;
      }

      .title-section {
        text-align: center;
        margin-bottom: 2rem;
        animation: fadeInDown 1.2s ease forwards;
      }
      .title-section img.logo {
        height: 80px;
        margin-bottom: 1rem;
        filter: drop-shadow(0 0 5px var(--orange));
      }
      .title-section h1 {
        font-family: "Creepster", cursive;
        font-size: 3.8rem;
        color: var(--orange);
        margin-bottom: 0.4rem;
        user-select: none;
      }
      .title-section p.date-time {
        font-weight: 600;
        font-size: 1.2rem;
        letter-spacing: 0.04em;
        color: #ffb78c;
      }

      .countdown {
        text-align: center;
        font-size: 3rem;
        font-weight: 700;
        color: var(--orange);
        margin: 1.5rem 0 3rem;
        user-select: none;
        letter-spacing: 0.07em;
        text-shadow: 0 0 10px #ff6f3c77;
        animation: pulse 2.5s infinite ease-in-out;
      }

      .section {
        background: var(--dark-purple);
        border-radius: 18px;
        padding: 2.2rem 2rem 2.5rem;
        margin-bottom: 2.8rem;
        box-shadow: 0 0 12px #ff6f3c44;
        animation: fadeInUp 1s ease forwards;
      }
      .section h2 {
        color: var(--orange);
        font-family: "Creepster", cursive;
        font-size: 2.5rem;
        margin-bottom: 1rem;
        user-select: none;
      }
      .section p,
      .section li {
        font-size: 1rem;
        line-height: 1.5;
        color: var(--text-light);
      }
      .section ul {
        margin-top: 1rem;
        padding-left: 1.2rem;
        list-style-type: square;
      }

      .maps-container {
        position: relative;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 0 18px #ff6f3c55;
        margin-top: 1rem;
      }
      iframe {
        width: 100%;
        height: 300px;
        border: none;
      }

      .maps-links {
        margin-top: 0.8rem;
        text-align: center;
      }
      .maps-links a {
        color: var(--orange);
        text-decoration: none;
        font-weight: 700;
        margin: 0 1.2rem;
        transition: color 0.3s ease;
      }
      .maps-links a:hover {
        color: #ffb77d;
        text-decoration: underline;
      }

      .team-grid {
        display: flex;
        justify-content: center;
        gap: 3rem;
        flex-wrap: wrap;
      }
      .team-member {
        max-width: 140px;
        text-align: center;
        user-select: none;
        animation: float 4s ease-in-out infinite;
      }
      .team-member img {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        border: 3px solid var(--orange);
        box-shadow: 0 0 8px #ff6f3ccc;
        object-fit: cover;
        margin-bottom: 0.5rem;
      }
      .team-member p {
        font-weight: 600;
        color: var(--orange);
        font-size: 1.1rem;
      }

      .btn-primary {
        background: var(--orange);
        border: none;
        padding: 0.85rem 2.4rem;
        font-weight: 700;
        color: var(--black);
        font-size: 1.1rem;
        border-radius: 30px;
        cursor: pointer;
        box-shadow: 0 6px 0 #d35800;
        transition:
          background 0.3s ease,
          transform 0.15s ease;
        user-select: none;
        display: inline-block;
        margin: 1rem auto 0;
        text-align: center;
      }
      .btn-primary:hover {
        background: #ff8a50;
        transform: translateY(-2px);
      }
      .btn-primary:active {
        transform: translateY(0);
        box-shadow: 0 3px 0 #d35800;
      }

      .faq {
        text-align: left;
        max-width: 720px;
        margin: 0 auto;
      }
      .faq-item {
        margin-bottom: 1.5rem;
      }
      .faq-item h3 {
        color: var(--orange);
        font-weight: 700;
        font-size: 1.3rem;
        cursor: pointer;
        user-select: none;
      }
      .faq-item p {
        margin-top: 0.3rem;
        font-size: 1rem;
        line-height: 1.5;
        color: var(--text-light);
        display: none;
      }
      .faq-item.open p {
        display: block;
        animation: fadeIn 0.5s ease forwards;
      }

      /* Animations */
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
          text-shadow: 0 0 10px #ff6f3c88;
        }
        50% {
          opacity: 0.7;
          text-shadow: 0 0 20px #ff6f3cdd;
        }
      }
      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      /* Responsive */
      @media (max-width: 768px) {
        .title-section h1 {
          font-size: 2.8rem;
        }
        .countdown {
          font-size: 2.4rem;
        }
        main {
          padding: 5rem 1rem 2rem;
          max-width: 100%;
        }
        .team-grid {
          gap: 2rem;
        }
        .btn-primary {
          padding: 0.8rem 2rem;
          font-size: 1rem;
        }
      }

      #music-player {
  position: fixed;
  bottom: 20px;
  left: 20px;
  background: #1a1a1a; /* dark */
  border: 1px solid #d35400; /* dark orange */
  border-radius: 8px;
  padding: 0.5rem 0.75rem;
  font-size: 0.9rem;
  box-shadow: 0 2px 6px rgba(211, 84, 0, 0.5);
  z-index: 10000;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: #d35400;
}
#music-player button {
  background: none;
  border: none;
  color: #d35400;
  font-size: 1.2rem;
  cursor: pointer;
}
@media (max-width: 600px) {
  #music-player {
    bottom: 10px;
    left: 10px;
    padding: 0.4rem 0.6rem;
    font-size: 0.8rem;
  }
  #music-player button {
    font-size: 1rem;
  }
}
      #bats-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 1;
      }
    </style>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-N5KVMP33"
        height="0"
        width="0"
        style="display: none; visibility: hidden"></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <!-- music player -->
    <div id="music-player">
      <audio id="bg-music" src="halloween.mp3" preload="auto"></audio>
      <button onclick="toggleMusic()" id="music-btn">‚ñ∂</button>
      <span id="music-label">Spooky Music</span>
      <button onclick="closeMusicPlayer()">‚úñ</button>
    </div>

    <!-- bats flying canvas -->
    <canvas id="bats-canvas"></canvas>

    <script>
      const canvas = document.getElementById("bats-canvas");
  const ctx = canvas.getContext("2d");
  let width = window.innerWidth;
  let height = window.innerHeight;
  canvas.width = width;
  canvas.height = height;

  const batImg = new Image();
  batImg.src = "bat.png"; // make sure this path is correct!

  const bats = [];
  const maxBats = 30;

  function createBat() {
    const fromLeft = Math.random() < 0.5;
    return {
      x: fromLeft ? -50 : width + 50,
      y: Math.random() * height * 0.8 + height * 0.1,
      size: Math.random() * 0.4 + 0.3,
      speedX: (Math.random() * 1 + 0.5) * (fromLeft ? 1 : -1),
      speedY: (Math.random() - 0.5) * 0.5,
      fromLeft: fromLeft,
    };
  }

  for(let i=0; i<maxBats; i++) {
    bats.push(createBat());
  }

  function updateBats() {
    bats.forEach(bat => {
      bat.x += bat.speedX;
      bat.y += bat.speedY;

      if(bat.y < height * 0.1) bat.speedY = Math.abs(bat.speedY);
      if(bat.y > height * 0.9) bat.speedY = -Math.abs(bat.speedY);

      if(bat.fromLeft && bat.x > width + 60) {
        Object.assign(bat, createBat());
      } else if(!bat.fromLeft && bat.x < -60) {
        Object.assign(bat, createBat());
      }
    });
  }

  function drawBats() {
    ctx.clearRect(0, 0, width, height);
    bats.forEach(bat => {
      ctx.drawImage(batImg, bat.x, bat.y, 50 * bat.size, 30 * bat.size);
    });
  }

  function animate() {
    updateBats();
    drawBats();
    requestAnimationFrame(animate);
  }

  batImg.onload = () => {
    animate();
  };

  window.addEventListener("resize", () => {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
  });
      
      // music player logic same as your Xmas one but updated variable names
      const musicAudio = document.getElementById("bg-music");
      const musicBtn = document.getElementById("music-btn");
      function toggleMusic() {
        if (musicAudio.paused) {
          musicAudio.play();
          musicBtn.textContent = "‚è∏";
        } else {
          musicAudio.pause();
          musicBtn.textContent = "‚ñ∂";
        }
      }
      function closeMusicPlayer() {
        document.getElementById("music-player").style.display = "none";
        musicAudio.pause();
      }


    </script>

    <header>
      <a href="index.html" class="back-btn">‚Üê Back</a>
      <button class="register-btn" onclick="showRegisterPopup()">Register</button>
    </header>
    <main>
      <section class="title-section" aria-label="Event title and date">
        <img src="logo.png" alt="Furosion logo" class="logo" />
        <h1>Furosion; Halloween Update</h1>
        <p class="date-time">üìÖ October 25, 2025 ‚Äî 12:00 to 12:30 (No late entry!)</p>
      </section>

      <section class="countdown" aria-live="polite" aria-atomic="true" id="countdown">Loading countdown...</section>

      <section class="section" aria-label="Event Information">
        <h2>üéÉ About the Event</h2>
        <p>
          Furosion is the first under 18s public furry and therian outing in Bratislava! A safe, welcoming space to celebrate
          Halloween vibes, meet friends, and have a blast in a spooky atmosphere.
        </p>
        <p>
          Join us for a walk through the forest to a ScArY tomb of a Prussian soldier. Please arrive on time as late
          entry won't be allowed.
        </p>
      </section>

      <section class="section" aria-label="Event Rules and Restrictions">
        <h2>üö´ What to Bring & What Not To</h2>
        <ul>
          <li>No alcohol or illegal substances allowed on site.</li>
          <li>Respect the space and each other ‚Äî harassment is zero tolerated.</li>
          <li>No offensive or dangerous props.</li>
          <li>No weapons, real or fake, including toy guns or knives.</li>
          <li>Bring water and snacks if you like, but no glass containers.</li>
          <li>PLEASE DO NOT BRING FURRY FEET PAWS. You'll get them dirty!</li>
        </ul>
      </section>

      <section class="section" aria-label="Location and Transport">
        <h2>üìç Where to Meet</h2>
        <div class="maps-container" aria-label="Map showing meeting location">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d1667.1042013028937!2d17.0728568476861!3d48.17637767075988!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zNDjCsDEwJzMzLjEiTiAxN8KwMDQnMjkuMSJF!5e1!3m2!1sen!2ssk!4v1748759361316!5m2!1sen!2ssk"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="Meeting Location - Partizanska Luka, Bratislava"></iframe>
        </div>
        <div class="maps-links" aria-label="Links to open maps apps">
          <a href="https://maps.app.goo.gl/3erANRsgRxkMU1s2A" target="_blank" rel="noopener noreferrer"
            >Open in Google Maps</a
          >|
          <a
            href="https://maps.apple.com/place?coordinate=48.175852,17.074737&name=Furosion%20Start%20Place&map=explore"
            target="_blank"
            rel="noopener noreferrer"
            >Open in Apple Maps</a
          >
        </div>
        <p>üöé Take Bus 43, transfer to it at Patr√≥nka.</p>
      </section>

      <section class="section" aria-label="Meet the Halloween Team">
        <h2>üëª Meet the Halloween Team</h2>
        <div class="team-grid" role="list">
          <div class="team-member" role="listitem">
            <img src="kenzie2.jpeg" alt="KenzieTheFloof" />
            <a href="https://tiny.cc/kenziethefloof"><p>KenzieTheFloof</p></a>
          </div>
          <div class="team-member" role="listitem">
            <img src="parmin.JPG" alt="Parmin" />
            <p>Parmin</p>
          </div>
        </div>
        <div style="display: flex; justify-content: center; /* centre horizontally */">
          <button class="btn-primary" onclick="window.location.href='https://socialfurs.fillout.com/furosion-staffapps'">
            Apply as Volunteer
          </button>
        </div>
      </section>

      <section class="section" aria-label="FAQ">
        <h2>‚ùì FAQ</h2>
        <div class="faq" role="list">
          <div class="faq-item" role="listitem">
            <h3 tabindex="0">Is the event free?</h3>
            <p>Yes! The Furosion Halloween Update is free to attend, but registration is required.</p>
          </div>
          <div class="faq-item" role="listitem">
            <h3 tabindex="0">Can I bring friends who are over 18?</h3>
            <p>This event is for under 18s only, so we kindly ask to keep it age-appropriate.</p>
          </div>
          <div class="faq-item" role="listitem">
            <h3 tabindex="0">What if I'm 16 or older?</h3>
            <p>If you're 16 or older, please respect others younger than you.</p>
          </div>
          <div class="faq-item" role="listitem">
            <h3 tabindex="0">Can I volunteer?</h3>
            <p>Absolutely! Click the volunteer button below to apply.</p>
          </div>
          <div class="faq-item" role="listitem">
            <h3 tabindex="0">What if I‚Äôm late?</h3>
            <p>Sorry, no late entry. Please arrive between 12:00 and 12:30.</p>
          </div>
        </div>
      </section>

      <section class="section" aria-label="Add to calendar and volunteer">
        <h2>üìÖ Add to your calendar</h2>
        <div style="text-align: center">
          <button class="btn-primary" onclick="addToCalendar()">Add to Calendar</button>
        </div>
      </section>
    </main>

    <!-- Register Popup -->
    <div
      id="register-popup"
      aria-modal="true"
      role="dialog"
      aria-labelledby="register-title"
      tabindex="-1"
      style="
        display: none; /* start hidden */
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        justify-content: center;
        align-items: center;
        z-index: 9999;
      ">
      <div
        style="
          background: var(--black);
          color: var(--orange);
          max-width: 400px;
          width: 90%;
          padding: 2rem;
          border-radius: 15px;
          box-shadow: 0 0 15px var(--orange);
        ">
        <h2 id="register-title">Register for Furosion</h2>
        <p>
          Please agree to the <a href="tos.html" style="color: #ffa76e">Terms of Service</a> and
          <a href="er.html" style="color: #ffa76e">Event Rules</a> before registering.
        </p>
        <label><input type="checkbox" id="tos-check" /> I agree to the TOS & Rules (required)</label>
        <br /><br />
        <button onclick="submitRegistration()" class="btn-primary" disabled id="register-submit">Submit</button>
        <button onclick="closeRegisterPopup()" class="btn-primary" style="background: #5a2a00; margin-left: 10px">
          Cancel
        </button>
      </div>
    </div>

    <script>
      // Countdown timer
      function updateCountdown() {
        const eventDate = new Date("2025-10-25T12:00:00+02:00");
        const now = new Date();
        const diff = eventDate - now;
        if (diff <= 0) {
          document.getElementById("countdown").textContent = "The event has started! üéâ";
          clearInterval(timerInterval);
          return;
        }
        const h = Math.floor(diff / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((diff % (1000 * 60)) / 1000);
        document.getElementById("countdown").textContent = `${h}h ${m}m ${s}s until start`;
      }
      const timerInterval = setInterval(updateCountdown, 1000);
      updateCountdown();

      // Show popup
      function showRegisterPopup() {
        const popup = document.getElementById("register-popup");
        popup.style.display = "flex";
        popup.focus();
      }

      // Close popup
      function closeRegisterPopup() {
        document.getElementById("register-popup").style.display = "none";
      }

      // Enable confirm button when checkbox is checked
      document.getElementById("tos-check").addEventListener("change", function () {
        document.getElementById("register-submit").disabled = !this.checked;
      });

      // Submit registration + launch Eventbrite modal
      document.getElementById("register-submit").addEventListener("click", function () {
        closeRegisterPopup(); // close popup
        const triggerBtn = document.getElementById("eventbrite-widget-modal-trigger-1391257912869");
        if (triggerBtn) {
          triggerBtn.click(); // show Eventbrite modal
        } else {
          console.error("Eventbrite trigger button not found!");
        }
      });

      // FAQ toggle
      document.querySelectorAll(".faq-item h3").forEach((header) => {
        header.addEventListener("click", () => {
          header.parentElement.classList.toggle("open");
        });
        header.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            header.parentElement.classList.toggle("open");
          }
        });
      });

      // Add to calendar - creates an .ics file and triggers download
      function addToCalendar() {
        const start = "20251025T100000Z"; // UTC 10:00am = 12:00 local (UTC+2)
        const end = "20251025T140000Z"; // UTC 14:00 = 16:00 local (UTC+2)

        const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Furosion Halloween Update//EN
BEGIN:VEVENT
UID:${Date.now()}@furosion
DTSTAMP:${new Date().toISOString().replace(/[-:]|\.\d{3}/g, "")}
DTSTART:${start}
DTEND:${end}
SUMMARY:Furosion Halloween Update 2025
DESCRIPTION:The first under 18s furry and therian outing in Bratislava! Don't be late!
LOCATION:48.17585¬∞ N, 17.07474¬∞ E
END:VEVENT
END:VCALENDAR`;

        const blob = new Blob([icsContent], { type: "text/calendar" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "furosion-halloween-update.ics";
        document.body.appendChild(a);
        a.click();
        setTimeout(() => {
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        }, 0);
      }
    </script>
    <button id="eventbrite-widget-modal-trigger-1391257912869" style="display: none"></button>
    <script src="https://www.eventbrite.com/static/widgets/eb_widgets.js"></script>
    <script type="text/javascript">
      var exampleCallback = function () {
        console.log("Order complete!");
      };

      window.EBWidgets.createWidget({
        widgetType: "checkout",
        eventId: "1391257912869",
        modal: true,
        modalTriggerElementId: "eventbrite-widget-modal-trigger-1391257912869",
        onOrderComplete: exampleCallback
      });
    </script>
            <!-- START Powered by SocialFurs -->
<div id="powered-by-sf">
  <a href="https://socialfurs.com" target="_blank">
    <span>Powered by</span>
    <img src="https://socialfurs.com/logo.png" alt="SocialFurs Logo">
  </a>
</div>

<style>
#powered-by-sf {
  width: 100%;
  background: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 10px 0;
  font-family: 'Inter', sans-serif;
  box-shadow: 0 -1px 6px rgba(0,0,0,0.08);
}

#powered-by-sf a {
  display: flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
  color: #555;
  font-weight: 500;
  font-size: 12px; /* small text */
  animation: float 3s ease-in-out infinite;
}

#powered-by-sf a img {
  height: 64px; /* much bigger logo */
  width: auto;
  display: block;
  transition: transform 0.3s;
}

#powered-by-sf a:hover img {
  transform: rotate(10deg) scale(1.1);
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-3px); }
}
</style>
<!-- END Powered by SocialFurs -->
  </body>
</html>
